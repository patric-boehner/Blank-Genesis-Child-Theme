/**
 * This script adds the accessibility-ready responsive menus Genesis Framework child themes.
 *
 * @author StudioPress
 * @link https://github.com/copyblogger/responsive-menus
 * @version 1.1.2
 * @license GPL-2.0+
 */
var genesisMenuParams="undefined"==typeof genesis_responsive_menu?"":genesis_responsive_menu,genesisMenusUnchecked=genesisMenuParams.menuClasses,genesisMenus={},menusToCombine=[];!function(e,$,n){"use strict";function s(e){if($(f(genesisMenus)).find(".sub-menu").before(e.submenu),null!==menusToCombine){var n=genesisMenus.others.concat(menusToCombine[0]);$(f(n)).before(e.menu)}else $(f(genesisMenus.others)).before(e.menu)}function i(){$(f(genesisMenus)).addClass(C)}function a(){var e=$('button[id^="genesis-mobile-"]').attr("id");void 0!==e&&(c(e),l(e),m(e),o(e))}function u(){var e=$(this),n=e.next("nav");e.attr("id","genesis-mobile-"+$(n).attr("class").match(/nav-\w*\b/))}function o(e){if(null!=menusToCombine){var n=menusToCombine[0],s=$(menusToCombine).filter(function(e){if(e>0)return e});"none"!==d(e)?($.each(s,function(e,s){$(s).find(".menu > li").addClass("moved-item-"+s.replace(".","")).appendTo(n+" ul.genesis-nav-menu")}),$(f(s)).hide()):($(f(s)).show(),$.each(s,function(e,n){$(".moved-item-"+n.replace(".","")).appendTo(n+" ul.genesis-nav-menu").removeClass("moved-item-"+n.replace(".",""))}))}}function t(){var e=$(this);g(e,"aria-pressed"),g(e,"aria-expanded"),e.toggleClass("activated"),e.next("nav").slideToggle("fast")}function r(){var e=$(this),n=e.closest(".menu-item").siblings();g(e,"aria-pressed"),g(e,"aria-expanded"),e.toggleClass("activated"),e.next(".sub-menu").slideToggle("fast"),n.find("."+v).removeClass("activated").attr("aria-pressed","false"),n.find(".sub-menu").slideUp("fast")}function l(e){var n=$("."+C+" .js-superfish"),s="destroy";"function"==typeof n.superfish&&("none"===d(e)&&(s={delay:100,animation:{opacity:"show",height:"show"},dropShadows:!1,speed:"fast"}),n.superfish(s))}function m(e){var n=h();!$(n).length>0||$.each(n,function(n,s){var i=s.replace(".",""),a="genesis-"+i,u="genesis-mobile-"+i;"none"==d(e)&&(a="genesis-mobile-"+i,u="genesis-"+i);var o=$('.genesis-skip-link a[href="#'+a+'"]');if(null!==menusToCombine&&s!==menusToCombine[0]&&o.toggleClass("skip-link-hidden"),o.length>0){var t=o.attr("href");t=t.replace(a,u),o.attr("href",t)}})}function c(e){if("none"!==d(e))return!0;$("."+b+", ."+C+" .sub-menu-toggle").removeClass("activated").attr("aria-expanded",!1).attr("aria-pressed",!1),$("."+C+", "+C+" .sub-menu").attr("style","")}function d(n){var s=e.getElementById(n);return window.getComputedStyle(s).getPropertyValue("display")}function g(e,n){e.attr(n,function(e,n){return"false"===n})}function f(e){return $.map(e,function(e,n){return e}).join(",")}function h(){var e=[];return null!==menusToCombine&&$.each(menusToCombine,function(n,s){e.push(s.valueOf())}),$.each(genesisMenus.others,function(n,s){e.push(s.valueOf())}),e.length>0?e:null}$.each(genesisMenusUnchecked,function(e){genesisMenus[e]=[],$.each(this,function(n,s){var i=s,a=$(s);a.length>1?$.each(a,function(n,s){var a=i+"-"+n;$(this).addClass(a.replace(".","")),genesisMenus[e].push(a),"combine"===e&&menusToCombine.push(a)}):1==a.length&&(genesisMenus[e].push(i),"combine"===e&&menusToCombine.push(i))})}),void 0===genesisMenus.others&&(genesisMenus.others=[]),1==menusToCombine.length&&(genesisMenus.others.push(menusToCombine[0]),genesisMenus.combine=null,menusToCombine=null);var p={},b="menu-toggle",v="sub-menu-toggle",C="genesis-responsive-menu";p.init=function(){if(0!=$(h()).length){var e=void 0!==genesisMenuParams.menuIconClass?genesisMenuParams.menuIconClass:"dashicons-before dashicons-menu",n=void 0!==genesisMenuParams.subMenuIconClass?genesisMenuParams.subMenuIconClass:"dashicons-before dashicons-arrow-down-alt2",o={menu:$("<button />",{class:b,"aria-expanded":!1,"aria-pressed":!1,role:"button"}).append(genesisMenuParams.mainMenu),submenu:$("<button />",{class:v,"aria-expanded":!1,"aria-pressed":!1,role:"button"}).append($("<span />",{class:"screen-reader-text",text:genesisMenuParams.subMenu}))};i(),s(o),$("."+b).addClass(e),$("."+v).addClass(n),$("."+b).on("click.genesisMenu-mainbutton",t).each(u),$("."+v).on("click.genesisMenu-subbutton",r),$(window).on("resize.genesisMenu",a).triggerHandler("resize.genesisMenu")}},$(e).ready(function(){null!==h()&&p.init()})}(document,jQuery);